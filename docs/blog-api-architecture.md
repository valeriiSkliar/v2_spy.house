# Blog API Architecture - –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π

### **–°–ª–æ–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                Components                   ‚îÇ ‚Üê UI –ª–æ–≥–∏–∫–∞ + –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ  (blog-simple-components.js)               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ calls operations API
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              Manager                        ‚îÇ ‚Üê AJAX + –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è + –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ  (blog-ajax-manager.js)                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ updates state
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ               Store                         ‚îÇ ‚Üê –¢–æ–ª—å–∫–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ + computed
‚îÇ  (blog-store.js)                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìã API –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### **1. Store State API**

_–ß–∏—Å—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º_

```javascript
// –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑: store.stateAPI.* –∏–ª–∏ this.$blog.state.*

// –ì–µ—Ç—Ç–µ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è (read-only)
this.$blog.state.getLoading();
this.$blog.state.getFilters();
this.$blog.state.getArticles();
this.$blog.state.getPagination();

// –°–µ—Ç—Ç–µ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è (–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–∞—è –º—É—Ç–∞—Ü–∏—è)
this.$blog.state.setLoading(true);
this.$blog.state.setFilters({ page: 2 });
this.$blog.state.setArticles(articles);

// Computed properties
this.$blog.state.isFirstPage();
this.$blog.state.hasResults();
this.$blog.state.hasActiveSearch();
```

### **2. Store URL API**

_–ß–∏—Å—Ç–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è URL –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è_

```javascript
// –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑: store.urlAPI.* –∏–ª–∏ this.$blog.url.*

this.$blog.url.getCurrentUrl(); // –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π URL
this.$blog.url.isStateSynced(); // –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
this.$blog.url.updateUrl(true); // –æ–±–Ω–æ–≤–∏—Ç—å URL
this.$blog.url.restoreFromUrl(); // –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ URL
this.$blog.url.forceSync(); // –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
```

### **3. Manager Operations API**

_–ë–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è_

```javascript
// –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑: blogAjaxManager.operationsAPI.* –∏–ª–∏ this.$blog.operations().*

// –ù–∞–≤–∏–≥–∞—Ü–∏—è
this.$blog.operations().goToPage(3);
this.$blog.operations().goToNextPage();
this.$blog.operations().setCategory('tech');
this.$blog.operations().setSearch('query');
this.$blog.operations().clearFilters();

// –ö–æ–Ω—Ç–µ–Ω—Ç
this.$blog.operations().refreshContent();
this.$blog.operations().validateAndNavigate({ page: 2, search: 'test' });

// –†–µ–¥–∏—Ä–µ–∫—Ç—ã (moved from store)
this.$blog.operations().handleRedirect('/blog?page=2');
this.$blog.operations().cleanRedirect();
```

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

### **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**

```javascript
// ‚ùå –ù–ï –î–ï–õ–ê–¢–¨ - –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã store –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
Alpine.store('blog').goToPage(2);
Alpine.store('blog').setSearch('query');

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Operations API
this.$blog.operations().goToPage(2);
this.$blog.operations().setSearch('query');

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - —á–∏—Ç–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ State API
this.$blog.state.getLoading();
this.$blog.state.hasResults();

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞, –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ read-only —Å–æ—Å—Ç–æ—è–Ω–∏—é
this.$blog.loading();
this.$blog.filters();
```

### **–ú–∏–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**

```javascript
// Alpine.js Component - –ü–û–°–õ–ï —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
Alpine.data('blogComponent', () => ({
  // UI –ª–æ–≥–∏–∫–∞ —Ç–æ–ª—å–∫–æ
  handleClick() {
    // –î–µ–ª–µ–≥–∏—Ä—É–µ–º –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ Manager
    this.$blog.operations().goToPage(2);
  },

  // –ß–∏—Ç–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ Store
  get isLoading() {
    return this.$blog.loading(); // –∏–ª–∏ this.$blog.state.getLoading()
  },

  get articles() {
    return this.$blog.articles(); // –∏–ª–∏ this.$blog.state.getArticles()
  },
}));
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### **‚úÖ –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π**

- **Store**: –¢–æ–ª—å–∫–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ + computed properties
- **Manager**: –¢–æ–ª—å–∫–æ AJAX + –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è + –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **Components**: –¢–æ–ª—å–∫–æ UI + –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∫ API

### **‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –ø—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**

- Components –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç –Ω–∞–ø—Ä—è–º—É—é –º–µ—Ç–æ–¥—ã Store
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–¥—É—Ç —á–µ—Ä–µ–∑ Manager Operations API
- Store –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### **‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ API**

- `stateAPI` - –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `urlAPI` - –¥–ª—è URL –æ–ø–µ—Ä–∞—Ü–∏–π
- `operationsAPI` - –¥–ª—è –≤—Å–µ—Ö –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–π

### **‚úÖ –õ–µ–≥–∫–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

- –ö–∞–∂–¥—ã–π —Å–ª–æ–π –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
- –ß–µ—Ç–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –º–æ–∫–æ–≤
- –ù–µ—Ç —Å–∫—Ä—ã—Ç—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## üîÑ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–î–ª—è –ø–ª–∞–≤–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏, —Å—Ç–∞—Ä—ã–µ –º–µ—Ç–æ–¥—ã –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ **DEPRECATED** –Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:

```javascript
// DEPRECATED –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
this.$blog.goToPage(2);

// NEW - –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±
this.$blog.operations().goToPage(2);
```

## üìà –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

1. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è** –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ –Ω–æ–≤—ã–µ API
2. **–£–¥–∞–ª–µ–Ω–∏–µ DEPRECATED –º–µ—Ç–æ–¥–æ–≤** –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏
3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ TypeScript** –¥–ª—è —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ API
4. **Unit —Ç–µ—Å—Ç—ã** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ API —Å–ª–æ—è
